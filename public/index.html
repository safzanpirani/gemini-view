<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>gemini 2.0 flash image expo</title>
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    </head>
    <body>
        <button id="global-history-toggle" class="global-history-button">
            <i class="fas fa-history"></i> history
        </button>
        <div class="container">
            <div class="header">
                <h1>gemini 2.0 flash image expo</h1>
                <div class="header-buttons">
                    <button id="theme-toggle" aria-label="Toggle color theme">
                        <i class="fas theme-icon"></i>
                    </button>
                </div>
            </div>
            <div class="preset-section">
                <div class="preset-controls-header">
                    <h3>prompt presets</h3>
                </div>
                <div class="preset-buttons">
                    <!-- Preset buttons will be added here dynamically -->
                </div>
                <div class="preset-controls">
                    <button id="save-prompt-preset" class="preset-control-btn">
                        <i class="fas fa-save"></i> save preset
                    </button>
                    <button id="delete-prompt-preset" class="preset-control-btn">
                        <i class="fas fa-trash"></i> delete preset
                    </button>
                </div>
            </div>
            <div class="mode-toggle-section">
                <h3>input mode</h3>
                <div class="mode-toggle">
                    <button id="image-mode" class="mode-toggle-btn active">
                        <i class="fas fa-image"></i> Image
                    </button>
                    <button id="voice-mode" class="mode-toggle-btn">
                        <i class="fas fa-microphone"></i> Voice
                    </button>
                </div>
            </div>
            <div class="upload-section" id="image-section">
                <label for="image-upload">upload image(s):</label>
                <div class="file-input-wrapper">
                    <input
                        type="file"
                        id="image-upload"
                        accept="image/*"
                        class="file-input"
                        aria-label="Upload image files"
                        multiple
                    />
                    <div
                        class="drag-drop-area"
                        role="button"
                        tabindex="0"
                        aria-label="Drag and drop area for images"
                    >
                        <i class="fas fa-cloud-upload-alt fa-2x"></i>
                        <span class="drag-drop-text">drag & drop images here</span>
                        <span class="or-text">or</span>
                        <button type="button" class="file-input-button">
                            choose files
                        </button>
                    </div>
                </div>
                <div class="preview-header">
                    <span>selected images</span>
                    <button id="clear-all-images" class="text-button">
                        <i class="fas fa-times"></i> clear all
                    </button>
                </div>
                <div id="upload-spinner" class="spinner hidden"></div>
                <div id="preview-images" class="preview-images" style="display: none;"></div>
                <div class="upload-info">
                    <span id="image-count">no images uploaded</span>
                    <span id="total-size">0 kb total</span>
                </div>
            </div>
            <div class="voice-section" id="voice-section">
                <div class="voice-section-header">
                    <h3>voice input</h3>
                </div>
                <div class="voice-controls">
                    <button id="record-voice" class="voice-control-btn">
                        <i class="fas fa-microphone"></i> record voice
                    </button>
                    <button id="stop-voice" class="voice-control-btn" disabled>
                        <i class="fas fa-stop"></i> stop recording
                    </button>
                    <span id="recording-status"></span>
                </div>
                <div class="audio-upload">
                    <label for="audio-upload">or upload audio file:</label>
                    <div class="file-input-wrapper">
                        <input type="file" id="audio-upload" accept="audio/*" class="file-input">
                        <div class="drag-drop-area audio-drop-area" role="button" tabindex="0" aria-label="Drag and drop area for audio files">
                            <i class="fas fa-music fa-2x"></i>
                            <span class="drag-drop-text">drag & drop audio here</span>
                            <span class="or-text">or</span>
                            <button type="button" class="file-input-button">
                                choose audio file
                            </button>
                        </div>
                    </div>
                </div>
                <div id="audio-preview" class="audio-preview"></div>
            </div>
            <div class="prompt-section">
                <label for="system-prompt">system prompt:</label>
                <textarea
                    id="system-prompt"
                    placeholder="enter your prompt here..."
                    aria-label="System prompt input"
                    role="textbox"
                ></textarea>
            </div>
            <button id="submit-btn" aria-live="polite" role="button">
                <i class="fas fa-paper-plane"></i> get response
            </button>
            <div class="response-section">
                <h2>response:</h2>
                <div
                    id="response-content"
                    role="region"
                    aria-live="polite"
                ></div>
                <div id="response-switcher" class="response-switcher">
                    <button id="prev-response" aria-label="Previous Response">&lt;</button>
                    <span id="response-index">1/1</span>
                    <button id="next-response" aria-label="Next Response">&gt;</button>
                </div>
            </div>
            <div class="followup-section">
                <textarea
                    id="followup-prompt"
                    placeholder="enter follow-up instructions..."
                    aria-label="Follow-up prompt input"
                    role="textbox"
                ></textarea>
                <button id="followup-btn" aria-live="polite" role="button">
                    <i class="fas fa-reply"></i> send follow-up
                </button>
            </div>
            <div class="temperature-section">
                <label for="temperature">temperature</label>
                <div class="temperature-tooltip">
                    <i class="fas fa-info-circle"></i>
                    <span class="tooltip-text">Controls the randomness of responses. Lower values are more focused and deterministic, higher values are more creative.</span>
                </div>
                <input
                    type="range"
                    id="temperature"
                    min="0"
                    max="2"
                    step="0.1"
                    value="1"
                    aria-label="Temperature control"
                />
                <span id="temperature-value" aria-live="polite">1</span>
                <div class="temperature-markers">
                    <span class="temp-label">0<br><small>Precise</small></span>
                    <span class="temp-label">1<br><small>Balanced</small></span>
                    <span class="temp-label">2<br><small>Creative</small></span>
                </div>
            </div>
        </div>
        <div class="factory-reset-wrapper">
            <button
                id="factory-reset"
                class="factory-reset-button"
                title="Factory Reset"
            >
                <i class="fas fa-redo-alt"></i>
            </button>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.5/purify.min.js"></script>
        <script src="script.js"></script>
        <!-- History Modal -->
        <div id="history-modal" class="history-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>History</h2>
                    <button id="close-history" aria-label="Close History">&times;</button>
                </div>
                <div id="history-content">
                    <!-- History records will be injected here -->
                </div>
            </div>
        </div>
    </body>
</html>
